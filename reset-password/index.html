<!DOCTYPE html>
<html>
  <head>
    <title>Redirecting…</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>
      // Your app's custom scheme deep link
      const APP_SCHEME = "newaifoodapp://reset-password";

      // Supabase sends tokens in URL hash (#...). If none, try query (?...)
      const hash = window.location.hash || "";
      const query = window.location.search || "";
      const paramSource = hash ? hash.replace(/^#/, "?") : query;

      // Forward everything to your app (preserves access_token, refresh_token, type=recovery)
      window.location.replace(APP_SCHEME + paramSource);
    </script>
  </head>
  <body>Redirecting to app…</body>
</html>
